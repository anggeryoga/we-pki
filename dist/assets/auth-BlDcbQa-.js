import{s}from"./supabase-C7oNB1te.js";class n{static async login(r,e){try{const{data:t,error:a}=await s.auth.signInWithPassword({email:r,password:e});if(a)throw a;return{success:!0,user:t.user}}catch(t){return{success:!1,error:t.message}}}static async logout(){try{const{error:r}=await s.auth.signOut();if(r)throw r;return{success:!0}}catch(r){return{success:!1,error:r.message}}}static async getCurrentUser(){try{const{data:{user:r},error:e}=await s.auth.getUser();if(e)throw e;return r}catch(r){return console.error("Error getting current user:",r),null}}static async checkAdminRole(r){try{const{data:e,error:t}=await s.from("admin_users").select("role").eq("user_id",r).single();if(t)throw t;return e?.role==="admin"}catch(e){return console.error("Error checking admin role:",e),!1}}static redirectToLogin(){window.location.href="/login.html"}static redirectToDashboard(){window.location.href="/admin.html"}}export{n as A};

import"./supabase-B6KWXDKJ.js";import{A as e}from"./auth-DpkU9CxX.js";document.getElementById("loginForm").addEventListener("submit",async s=>{s.preventDefault();const i=document.getElementById("email").value,d=document.getElementById("password").value,t=document.getElementById("errorMessage");t.classList.add("hidden");const n=await e.login(i,d);n.success?await e.checkAdminRole(n.user.id)?e.redirectToDashboard():(t.textContent="Akses ditolak. Anda bukan Komandan PKI.",t.classList.remove("hidden")):(t.textContent=n.error,t.classList.remove("hidden"))});window.addEventListener("load",async()=>{const s=await e.getCurrentUser();s&&await e.checkAdminRole(s.id)&&e.redirectToDashboard()});

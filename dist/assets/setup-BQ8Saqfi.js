import"./supabase-B6KWXDKJ.js";import{A as i}from"./auth-DpkU9CxX.js";document.getElementById("setupForm").addEventListener("submit",async t=>{t.preventDefault();const d=document.getElementById("email").value,s=document.getElementById("password").value,a=document.getElementById("confirmPassword").value,e=document.getElementById("errorMessage"),n=document.getElementById("successMessage");if(e.classList.add("hidden"),n.classList.add("hidden"),s!==a){e.textContent="Password tidak cocok!",e.classList.remove("hidden");return}if(s.length<6){e.textContent="Password minimal 6 karakter!",e.classList.remove("hidden");return}const o=await i.createAdminUser(d,s);o.success?(n.textContent="Akun admin berhasil dibuat! Silakan login.",n.classList.remove("hidden"),setTimeout(()=>{window.location.href="/login.html"},2e3)):(e.textContent=o.error,e.classList.remove("hidden"))});window.addEventListener("load",async()=>{const t=await i.getCurrentUser();t&&await i.checkAdminRole(t.id)&&(window.location.href="/admin.html")});
